<div class="main p-4">
    <h1 class="title">Mapa de Jazigos</h1>
    <p *ngIf="!isAdmin" class="text-white text-2xl my-3 text-center">Selecione um jazigo</p>

    <!-- Wrapper para o mapa e coordenadas -->
    <div class="w-full max-w-6xl mx-auto mt-10">
        <!-- Container principal do grid (coordenadas + jazigos) -->
        <div class="grid" style="grid-template-columns: auto 1fr;">

            <!-- Canto superior esquerdo (vazio) -->
            <div></div>

            <!-- Coordenadas das Colunas (1-12) -->
            <div class="grid grid-cols-12 gap-4">
                <div *ngFor="let col of cols" class="flex items-center justify-center text-white font-bold p-2 text-lg">
                    {{ col }}
                </div>
            </div>

            <!-- Coordenadas das Linhas (A-F) -->
            <div class="flex flex-col gap-4 pr-4">
                <div *ngFor="let row of rows" class="flex items-center justify-center text-white font-bold text-lg" style="height: 66px;">
                    {{ row }}
                </div>
            </div>

            <!-- Grid dos Jazigos -->
            <div class="grid grid-cols-12 gap-4 w-full">
                <div class="col flex items-center justify-center rounded-full hover:bg-neutral-700 transition p-2"
                     *ngFor="let jazigo of jazigos"
                     [class.cursor-pointer]="jazigo.status === 'DISPONIVEL' && !isAdmin"
                     [class.cursor-not-allowed]="jazigo.status !== 'DISPONIVEL' || isAdmin"
                     (click)="jazigo.status === 'DISPONIVEL' && !isAdmin && selecionarJazigo(jazigo)">

                    <img *ngIf="jazigo.status === 'DISPONIVEL'" class="rounded-lg" src="/assets/jverde.png"
                         [style.width.px]="50" [style.height.px]="50" alt="Jazigo Disponível" />

                    <img *ngIf="jazigo.status === 'OCUPADO'" class="rounded-lg" src="/assets/jvermelho.png"
                         [style.width.px]="50" [style.height.px]="50" alt="Jazigo Ocupado" />
                </div>
            </div>
        </div>

        <!-- Texto da Entrada -->
        <div class="text-center text-white text-2xl font-bold mt-8 tracking-widest">
            ENTRADA
        </div>
    </div>

    <!-- Modal (Estrutura inalterada) -->
    <div *ngIf="jazigoSelecionado"
         class="fixed inset-0 bg-black bg-opacity-50 backdrop-blur-sm flex items-center justify-center z-50">
        <div class="bg-neutral-800 rounded-lg shadow-lg p-6 w-full max-w-md mx-4">
            <h2 class="text-xl font-bold mb-4 text-white">Jazigo {{ jazigoSelecionado!.endereco }}</h2>
            <p class="mb-6 text-gray-300">Escolha uma opção para o jazigo {{ jazigoSelecionado!.endereco }}:</p>
            <div class="flex justify-between">
                <button class="btn-primario border border-gray-700 w-[48%]" (click)="comprarJazigo(jazigoSelecionado!)">
                    Comprar
                </button>
                <button class="btn-primario border border-gray-700 w-[48%]" (click)="alugarJazigo(jazigoSelecionado!)">
                    Alugar
                </button>
            </div>
            <button class="mt-6 w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-500 transition"
                    (click)="fecharModal()">
                Fechar
            </button>
        </div>
    </div>
</div>